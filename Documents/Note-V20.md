## PZPK Note文件结构描述

## Version 20

#### 整体结构
+ 文件头 - 固定 124 Bytes
+ 内容区 - (n) Bytes
+ 索引区 - (n) Bytes

#### 文件头
+ 04 - [int32] 文件版本号
+ 04 - [int32] 文件类型 `枚举PZType`
+ 32 - [bytes] 标识Hash `对PZType对应文本Sha256`
+ 16 - [bytes] 密码校验IV
+ 48 - [bytes] 密码校验 `使用密码和IV加密标识Hash`
+ 08 - [int64] 文件创建时间戳
+ 04 - [int32] 文件总大小
+ 04 - [int32] 索引区起始位置
+ 04 - [int32] 索引区数据长度

#### 内容区
> 内容区每一个笔记起始16Bytes为IV向量，该笔记使用此IV向量解密

#### 索引区
> 使用文件头的索引区起始位置读取索引区数据长度
+ 16 - [bytes] 索引区IV向量
> 解密剩余部分
+ y [bytes] 索引区内容

#### 索引区内容
> 按顺序读取
+ 04 [int32] 当前索引块长度 = x
+ 04 [int32] 笔记ID
+ 04 [int32] 笔记数据在包文件内的偏移量(从0开始计算)
+ 04 [int32] 笔记大小
+ (x - 16) [bytes] 笔记标题 `UTF8`

